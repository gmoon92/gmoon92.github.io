---
layout: post
title: "SOAP :Simple Object Access Protocol"
tags: [SOAP]
---
SOAP(Simple Object Access Protocol) 1. 개념
---
Write Date : 2018.03.23
---

>회사는 해외 업체 A의 업무용 프로그램을 사용하고 있다.
성능문제로 인해 프로그램 A를 개선하고자 했으나
비싼 비용 문제로 인해 국내 업체 B의 업무용 프로그램을 사용하려 한다.

>프로젝트가 진행되던 중
업체 B는 기술의 문제로 인해 해외 은행 송금 기능구현에 어려움을 겪는다.

>해결 방안으로 업체 A의 송금 기능을 연동하려 한다.
이때 SOAP를 통해 기능을 연동한다.

---


### SOAP 아키텍처
<img src="C:\Users\user\Downloads\깃페이지\md\SOAP1.png" style="width:40%;">

**Server**(Serivce provider)는 웹서비스를 WSDL로 인코딩하여 **UDDI 레지스트리**에 등록(**Publish**)한다.
**Client**(Service requestor)는 사용할 웹서비스를 WSDL로 인코딩하여 **UDDI 레지스트리**를 통해 탐색(**Find**)한다.
해당 WSDL이 있다면 바인딩(**Bind**)한다.

Server는 인코딩 된 WSDL 데이터를 디코딩하여 해당 웹서비스 로직을 수행한다.

---

### SOAP?

SOAP(**S**imple **O**bject **A**ccess **P**rotocol)는 

XML 기반의 메시지를
컴퓨터 네트워크(HTTP, HTTPS, SMTP 등)상에서 교환하는 프로토콜이다.

HTTP를 통해 통신하는 프로토콜이기 때문에
다른 RPC에 비해 Proxy와 방화벽에 제약을 받지 않고 쉽게 통신이 가능하다.

SOAP는 원격 프로시져 호출(**R**emote **P**rocedure **C**all:RPC) 형태의 메시지 패턴을 사용한다.
>***RPC 패턴**
>별도의 원격 제어를 위한 코딩 없이
>다른 주소 공간에 있는 함수나 프로시저를 실행할 수 있게 하는 프로세스 간 통신 기술.
>
>즉 어떤 프로그램에 대하여 그 프로그램이 로컬에 있건 원격에 있건 사용할 수 있다.

---

### Why use?

##### 분산 환경
SOAP는 네트워크 상에서 메시지를 교환한다.
이러한 방식은 분산 환경에서 데이터 통신이 가능하다는 점이다.

##### 표준
네트워크 상에서 교환되는 메시지는 XML을 기반으로 하고 있다.
XML은 W3C에서 개발된 마크업 언어로 표준을 따른다.
표준을 따른다는 의미는 플랫폼에 종속적이지 않고 독립적이라는 의미다.

##### 확장성
SOAP는 다양한 전송 프로토콜들의 사용을 허용한다.
표준 스택에서는 전송 프로토콜로 HTTP를 사용하지만, 다른 프로토콜 역시 사용 가능하다.

---

### But
  * 복잡한 구조로 인한 **오버헤드**가 발생 할 수 있다.
  * 메시지 인코딩/디코딩 과정등 웹서비스 개발의 난이도가 높은편이다.
  * 미들웨어 기술(REST와 같은)에 비해 상대적으로 **무겁고** 속도도 **느리다.**
   (이것은 전송할 메시지가 적을때에는 문제 되지 않을 수 있다.)

>XML의 성능을 향상시키기 위해,
>VTD-XML과 같은 emerging non-extractiv XML 처리 모델이 있다.
>바이너리 객체를 포함시킨 특별한 경우의 XML(바이너리 XML을 말하는듯)로 
>메시지 전송 최적화 메커니즘(Message Transmission Optimization Mechanism; MTOM)이 있다.

---


### 메시지?
SOAP 메시지는 `<Header>`요소와 `<Body>`요소를 포함한 `<Envelope>` 요소로 구성된 XML 문서로 인코딩된다.

