---
layout: post
title: "SOAP :Simple Object Access Protocol"
tags: [SOAP]
---

## 7. WSDL to  Java

>  Java 기반의 프로젝트에서
> SOAP을 통해 개발하게 되면 대게 두 가지 경우가 있다.
</br>
>  **첫 번째 확장자명이 .wsdl인 WSDL 파일을 받는 경우**와
>  **두 번째 WSDL 파일이 있는 URL 경로를 받는 경우**가 있다.
</br>
>  일단 개발자는 작업하기 위해 **WSDL 파일을 Java 파일로 변환해야 된다.**
</br>
>  Eclipse에서 **[웹서비스 클라이언트]** 기능은 WSDL 파일을 자동으로 Java 파일로 변환해준다.
</br>
>  하지만 기업에서는  SOAP을 활용하여 애플리케이션에 기능을 확장하는 경우라면
>  보안성 문제로 WSDL 파일에  암호를 설정해 둘 가능성이 크다.
</br>
>  **암호화된 URL 경로는 Eclipse 버그에 의해 WSDL 파일을 읽을 수 없게 된다.**
</br>
>  이런 경우,
>  **SoapUI** 툴을 사용하면  WSDL 파일을 Java 파일로 변환할 수 있다.
</br>

## 7.1. Eclipse Web Service Client

<img  class="eclipse_web_photo1" width="500px" height="500px"  align="left" style="margin:0 30px 30px 0;"/>

#### 1) [Dynamic Web Project] 로 생성한다.
#### 2) 만들어진 프로젝트에서 마우스 오른쪽 클릭 </br>[New] -> [Other]를 클릭한다.

<div style="clear: both; margin:30px;" />
</br>

----

<img  class="eclipse_web_photo2" width="500px" height="500px" align="left" style="margin:0 30px 30px 0;"/>

#### 3) Other로 들어가면 너무 많은 생성 파일이 나오기 때문에
#### fileter란을 통해서 [Web Service Client] 를 찾는다.

<div style="clear: both; margin:30px;" />
</br>

----

<img  class="eclipse_web_photo3" width="500px" height="500px" align="left" style="margin:0 30px 30px 0;"/>

#### 4) Client레벨을 MAX로 설정한다.(그 이유는 자세히 모른다.)
 화면에는 없지만 [Monitor the Web Service]를 체크하면 웹서비스를 이클립스에서 모니터할 수 있다.</br>

#### 5)Browse를 클릭한다.
<div style="clear: both; margin:30px;" />
</br>

----

<img  class="eclipse_web_photo4" width="500px" height="500px"  align="left" style="margin:0 30px 30px 0;"/>

#### 5)  WSDL의 경로를 입력하면
하단부분에 선택한 WSDL에 대한 정보가 나타난다. </br>
경로가 잘못 되어있거나 잘못된 WSDL일 경우에는 나오지 않는다.


#### 6) Finish를 눌러주면 스스로 WSDL을 분석해서 소스를 생성한다.




<div style="clear: both; margin:30px;" />
</br>

----

## 7.2. SoupUI를 이용한 WSDL Import

<img  class="soap_install_photo1" width="400px" height="600px"  align="left" style="margin:0 30px 30px 0;"/>
<img  class="soap_install_photo2" width="400px" height="100px"  align="left" style="margin:0 30px 30px 0;"/>
<div style="clear: both; margin:30px;" />
</br>

#### 1) SOAP UI 실행한다.
#### 2) [New SOAP Project]를 통해 프로젝트 SOAP 프로젝트 생성 한다.


<div style="clear: both; margin:30px;" />
</br>

---
<img  class="soap_install_photo3" width="600px" height="300px"  align="left" style="margin:0 30px 30px 0;"/>

#### 3)  [ADD WSDL] 를 통하여 </br> WSDL를 Import한다.
#### 4)  [intial WSDL]에 WSDL 파일의 </br>경로를 넣는다.


<div style="clear: both; margin:30px;" />
</br>
----

### *Java 파일 생성

<img  class="soap_install_photo4" width="800px" height="400px"  />

#### 5) Java 파일을 생성하기 위해, 로컬에 설치된 JDK의 bin 디렉토리를 설정한다.
### *주의사항 -<U> 해당 프로젝트의 WAS에 따라서 설정하는 부분이 다를 수 있다.</U>
#### 꼭 [JAX-WS-WSimport]에 JDK 경로를 설정 하는 것이 아니다. <del>당시 프로젝트에서는 JAX-WS를 통해 생성했다.</del>

<div style="clear: both; margin:30px;" />
</br>

----
<img  class="soap_install_photo5" width="300px" height="300px"  align="left" style="margin:0 30px 30px 0;"/>
<img  class="soap_install_photo6" width="500px" height="300px"  align="left" style="margin:0 30px 30px 0;"/>

<div style="clear: both; margin:30px;" />
</br>

#### 6) [TargetDirectory] 입력 부분에 Java 파일을 내려 받을 경로를 입력한다.

#### 7) [Keep] 을 체크한다.

#### 7) 마지막으로 [Generate] 버튼을 클릭한다.
</br>

----

# writer : M.G

<pre>
    Java 기반의 eHR 솔루션 프로젝트에 SAP을 연동하게 되면 SOAP 프로토콜을 알게 되었다.

   SOAP는 나에겐 생소한 영역이고 당시엔 도움을 받을 수 있는 상황이 아니라서

   처음 막막한 심정으로 많은 자료와 예제를 찾아가며 개발했던 기억이 있다.


   이 글의 목적은

   추후 SOAP를 통해 개발하게 될 개발자들에게 도움이 되도록

   SOAP 프로토콜에 대해 알고있는 내용들을 썼다.
</pre>
